import './polyfills.server.mjs';
import{$ as R,A as te,B as s,C as S,D as y,E as C,F as L,G as V,L as ne,O as ie,Q as oe,R as re,U as ae,Y as T,Z as se,a as H,aa as ce,b as g,ba as le,c as u,d as f,e as D,f as Y,g as J,h as a,i as P,j as b,k as x,l as E,m as Z,n as F,o as h,p as O,q as k,r as i,s as r,t as l,u as _,v as d,w as m,x as K,y as X,z as ee}from"./chunk-WLIIJXI6.mjs";import{h as U}from"./chunk-5XUXGTUW.mjs";var A=class o{title="board-game";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-root"]],standalone:!0,features:[C],decls:1,vars:0,template:function(t,n){t&1&&l(0,"router-outlet")},dependencies:[se]})};var B=class o{player=0;color="";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-player"]],inputs:{player:"player",color:"color"},standalone:!0,features:[C],decls:3,vars:3,consts:[[1,"container"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"span"),s(2),r()()),t&2&&(a(),E("border-color",n.color),a(),S(n.player))},styles:[".container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;width:20px;height:20px;background-color:#fff;padding:0 10px;border-radius:50%;border:5px solid white}"]})};var xe=(o,e)=>e.id;function ye(o,e){if(o&1&&l(0,"app-player",4),o&2){let t=m().$implicit;x("player",t.id)("color",t.color)}}function be(o,e){if(o&1&&b(0,ye,1,2,"app-player",4),o&2){let t=e.$implicit,n=m();h(n.cardNumber===t.position?0:-1)}}var j=class o{cardImg="";color="";players=[];cardNumber=0;static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-card-game"]],inputs:{cardImg:"cardImg",color:"color",players:"players",cardNumber:"cardNumber"},standalone:!0,features:[C],decls:6,vars:3,consts:[[1,"container"],[1,"card"],[3,"src"],[1,"players"],[3,"player","color"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1),l(2,"img",2),r(),i(3,"div",3),O(4,be,1,1,null,null,xe),r()()),t&2&&(E("border-color",n.color),a(2),x("src",n.cardImg,Y),a(2),k(n.players))},dependencies:[B],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:150px;border:10px solid white;background-color:#fff}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:absolute;z-index:1}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{width:150px;position:absolute;z-index:2;display:flex;flex-flow:row wrap;justify-content:center;align-items:center;gap:25px}"]})};function ve(o,e){if(o&1){let t=_();i(0,"div",6),d("click",function(){u(t);let c=m();return f(c.rollDice())}),l(1,"span",7),r()}}function Pe(o,e){if(o&1){let t=_();i(0,"div",8),d("click",function(){u(t);let c=m();return f(c.rollDice())}),l(1,"span",7)(2,"span",7),r()}}function Me(o,e){if(o&1){let t=_();i(0,"div",9),d("click",function(){u(t);let c=m();return f(c.rollDice())}),l(1,"span",7)(2,"span",7)(3,"span",7),r()}}function we(o,e){if(o&1){let t=_();i(0,"div",10),d("click",function(){u(t);let c=m();return f(c.rollDice())}),i(1,"div",11),l(2,"span",7)(3,"span",7),r(),i(4,"div",11),l(5,"span",7)(6,"span",7),r()()}}function Oe(o,e){if(o&1){let t=_();i(0,"div",12),d("click",function(){u(t);let c=m();return f(c.rollDice())}),i(1,"div",11),l(2,"span",7)(3,"span",7),r(),i(4,"div",11),l(5,"span",7),r(),i(6,"div",11),l(7,"span",7)(8,"span",7),r()()}}function ke(o,e){if(o&1){let t=_();i(0,"div",13),d("click",function(){u(t);let c=m();return f(c.rollDice())}),i(1,"div",11),l(2,"span",7)(3,"span",7)(4,"span",7),r(),i(5,"div",11),l(6,"span",7)(7,"span",7)(8,"span",7),r()()}}var z=class o{diceFaces=[!0,!1,!1,!1,!1,!1];canRoll=!1;interval;rollDuration=1e3;diceRolled=new D;rollDice(){if(!this.canRoll)return;this.canRoll=!1,this.diceSound();let e=0;this.interval=setInterval(()=>{this.resetDice(),this.diceFaces[e]=!0,e=(e+1)%6},100),setTimeout(()=>{clearInterval(this.interval),this.showRandomFace()},this.rollDuration)}resetDice(){this.diceFaces.fill(!1)}showRandomFace(){let e=Math.floor(Math.random()*6);this.resetDice(),this.diceFaces[e]=!0,this.diceRolled.emit(e+1)}diceSound(){new Audio("sounds/dice.mp3").play()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-dice"]],inputs:{canRoll:"canRoll"},outputs:{diceRolled:"diceRolled"},standalone:!0,features:[C],decls:6,vars:6,consts:[[1,"first-face"],[1,"second-face"],[1,"third-face"],[1,"fourth-face"],[1,"fifth-face"],[1,"sixth-face"],[1,"first-face",3,"click"],[1,"pip"],[1,"second-face",3,"click"],[1,"third-face",3,"click"],[1,"fourth-face",3,"click"],[1,"column"],[1,"fifth-face",3,"click"],[1,"sixth-face",3,"click"]],template:function(t,n){t&1&&b(0,ve,2,0,"div",0)(1,Pe,3,0,"div",1)(2,Me,4,0,"div",2)(3,we,7,0,"div",3)(4,Oe,9,0,"div",4)(5,ke,9,0,"div",5),t&2&&(h(n.diceFaces[0]?0:-1),a(),h(n.diceFaces[1]?1:-1),a(),h(n.diceFaces[2]?2:-1),a(),h(n.diceFaces[3]?3:-1),a(),h(n.diceFaces[4]?4:-1),a(),h(n.diceFaces[5]?5:-1))},styles:[".first-face[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.second-face[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.second-face[_ngcontent-%COMP%]   .pip[_ngcontent-%COMP%]:nth-of-type(2){align-self:flex-end}.third-face[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.third-face[_ngcontent-%COMP%]   .pip[_ngcontent-%COMP%]:nth-of-type(2){align-self:center}.third-face[_ngcontent-%COMP%]   .pip[_ngcontent-%COMP%]:nth-of-type(3){align-self:flex-end}.fourth-face[_ngcontent-%COMP%], .sixth-face[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fourth-face[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%], .sixth-face[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.fifth-face[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.fifth-face[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.fifth-face[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]:nth-of-type(2){justify-content:center}*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;vertical-align:center;flex-wrap:wrap;align-content:center;font-family:Open Sans,sans-serif;background:linear-gradient(top,#222,#333)}[class$=face][_ngcontent-%COMP%]{margin:0;padding:6px;cursor:pointer;background-color:#e7e7e7;width:54px;height:54px;object-fit:contain;box-shadow:inset 0 5px #fff,inset 0 -5px #bbb,inset 5px 0 #d7d7d7,inset -5px 0 #d7d7d7;border-radius:10%}.pip[_ngcontent-%COMP%]{display:block;width:10px;height:10px;border-radius:50%;margin:2px;background-color:#333;box-shadow:inset 0 3px #111,inset 0 -3px #555}"]})};var w=class o{name="";static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-button"]],inputs:{name:"name"},standalone:!0,features:[C],decls:2,vars:1,template:function(t,n){t&1&&(i(0,"button"),s(1),r()),t&2&&(a(),S(n.name))},styles:["button[_ngcontent-%COMP%]{font:inherit;background-color:#f0f0f0;border:0;color:#242424;border-radius:.5em;font-size:1.2rem;padding:.2em 1.1em;font-weight:600;text-shadow:0 .0625em 0 #fff;box-shadow:inset 0 .0625em #f4f4f4,0 .0625em #efefef,0 .125em #ececec,0 .25em #e0e0e0,0 .3125em #dedede,0 .375em #dcdcdc,0 .425em #cacaca,0 .425em .5em #cecece;transition:.15s ease;cursor:pointer}button[_ngcontent-%COMP%]:active{translate:0 .225em;box-shadow:inset 0 .03em #f4f4f4,0 .03em #efefef,0 .0625em #ececec,0 .125em #e0e0e0,0 .125em #dedede,0 .2em #dcdcdc,0 .225em #cacaca,0 .225em .375em #cecece}"]})};function Se(o,e){return this.optionsValid}function Ee(o,e){if(o&1){let t=_();i(0,"input",5),d("change",function(){let c=u(t).$implicit,p=m(3);return f(p.selectOption(c))}),r(),i(1,"label",6)(2,"div",7)(3,"div",8),s(4),r()()()}if(o&2){let t=e.$implicit,n=m(3);x("id","cCB"+t)("checked",n.selected===t),a(),x("for","cCB"+t),a(3),S(t)}}function Fe(o,e){if(o&1&&(i(0,"div",2)(1,"div",4),O(2,Ee,5,4,null,null,Se,!0),r()()),o&2){let t=m(2);a(2),k(t.optionsValid)}}function Ie(o,e){if(o&1){let t=_();i(0,"div",0)(1,"div",1)(2,"h1"),s(3),r(),i(4,"p"),s(5),r(),b(6,Fe,4,0,"div",2),i(7,"app-button",3),d("click",function(){u(t);let c=m();return f(c.closePopup())}),r()()()}if(o&2){let t=m();a(),E("background-color",t.color),a(2),y("Voc\xEA tirou: ",t.card,""),a(2),S(t.description),a(),h(t.options?6:-1)}}var N=class o{close=!1;card="";description="";color="";optionsValid=[];closeEvent=new D;closePopup(){this.options?this.selected!==void 0?(this.clickSound(),this.close=!1,this.optionSelected.emit(this.selected),this.selected=void 0,this.closeEvent.emit()):alert("Selecione pelo menos uma op\xE7\xE3o para fechar o popup."):(this.clickSound(),this.close=!1,this.optionSelected.emit(this.selected),this.selected=void 0,this.closeEvent.emit())}optionSelected=new D;selected;options=!1;selectOption(e){this.clickSound(),this.selected=this.selected===e?void 0:e}clickSound(){new Audio("sounds/click.mp3").play()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-information"]],inputs:{close:"close",card:"card",description:"description",color:"color",optionsValid:"optionsValid",options:"options"},outputs:{closeEvent:"closeEvent",optionSelected:"optionSelected"},standalone:!0,features:[C],decls:1,vars:1,consts:[[1,"container"],[1,"content"],[1,"players"],["name","Ok!",3,"click"],[1,"customCheckBoxHolder"],["type","checkbox",1,"customCheckBoxInput",3,"change","id","checked"],[1,"customCheckBoxWrapper",3,"for"],[1,"customCheckBox"],[1,"inner"]],template:function(t,n){t&1&&b(0,Ie,8,5,"div",0),t&2&&h(n.close?0:-1)},dependencies:[w],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100vh;position:absolute;top:0;right:0;z-index:99;display:flex;flex-flow:column;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:100px;border-radius:10px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;gap:30px;margin:10px 0}.customCheckBoxHolder[_ngcontent-%COMP%]{margin:5px;display:flex}.customCheckBox[_ngcontent-%COMP%]{width:fit-content;position:relative;overflow:hidden;cursor:pointer;-webkit-user-select:none;user-select:none;padding:2px 8px;background-color:#00000029;border-radius:0;color:#ffffffb3;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-duration:.3s;transition-property:color,background-color,box-shadow;display:flex;height:32px;align-items:center;box-shadow:#00000026 0 2px 1px inset,#ffffff2b 0 1px 1px;outline:none;justify-content:center;min-width:55px}.customCheckBox[_ngcontent-%COMP%]:hover{background-color:#2c2c2c;color:#fff;box-shadow:#0000003b 0 -4px 1px inset,#ffffff2b 0 -1px 1px,#0000002b 0 2px 4px 1px}.customCheckBox[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{font-size:18px;font-weight:900;pointer-events:none;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-duration:.3s;transition-property:transform;transform:translateY(0)}.customCheckBox[_ngcontent-%COMP%]:hover   .inner[_ngcontent-%COMP%]{transform:translateY(-2px)}.customCheckBoxWrapper[_ngcontent-%COMP%]:first-of-type   .customCheckBox[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-top-left-radius:5px;border-right:0px}.customCheckBoxWrapper[_ngcontent-%COMP%]:last-of-type   .customCheckBox[_ngcontent-%COMP%]{border-bottom-right-radius:5px;border-top-right-radius:5px;border-left:0px}.customCheckBoxInput[_ngcontent-%COMP%]{display:none}.customCheckBoxInput[_ngcontent-%COMP%]:checked + .customCheckBoxWrapper[_ngcontent-%COMP%]   .customCheckBox[_ngcontent-%COMP%]{background-color:#2d6737;color:#fff;box-shadow:#0000003b 0 -4px 1px inset,#ffffff2b 0 -1px 1px,#0000002b 0 2px 4px 1px}.customCheckBoxInput[_ngcontent-%COMP%]:checked + .customCheckBoxWrapper[_ngcontent-%COMP%]   .customCheckBox[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{transform:translateY(-2px)}.customCheckBoxInput[_ngcontent-%COMP%]:checked + .customCheckBoxWrapper[_ngcontent-%COMP%]   .customCheckBox[_ngcontent-%COMP%]:hover{background-color:#34723f;box-shadow:#00000042 0 -4px 1px inset,#ffffff2b 0 -1px 1px,#00000026 0 3px 6px 2px}.customCheckBoxWrapper[_ngcontent-%COMP%]   .customCheckBox[_ngcontent-%COMP%]:hover   .inner[_ngcontent-%COMP%]{transform:translateY(-2px)}"]})};var pe=[{img:"",color:"",type:0,position:1,description:"",title:""},{img:"",color:"",type:0,position:2,description:"",title:""},{img:"",color:"",type:0,position:3,description:"",title:""},{img:"",color:"",type:0,position:4,description:"",title:""},{img:"",color:"",type:0,position:5,description:"",title:""},{img:"",color:"",type:0,position:6,description:"",title:""},{img:"",color:"",type:0,position:7,description:"",title:""},{img:"",color:"",type:0,position:8,description:"",title:""},{img:"",color:"",type:0,position:9,description:"",title:""},{img:"",color:"",type:0,position:10,description:"",title:""},{img:"",color:"",type:0,position:11,description:"",title:""},{img:"",color:"",type:0,position:12,description:"",title:""},{img:"",color:"",type:0,position:13,description:"",title:""},{img:"",color:"",type:0,position:14,description:"",title:""},{img:"",color:"",type:0,position:15,description:"",title:""},{img:"",color:"",type:0,position:16,description:"",title:""},{img:"",color:"",type:0,position:17,description:"",title:""},{img:"",color:"",type:0,position:18,description:"",title:""},{img:"",color:"",type:0,position:19,description:"",title:""},{img:"",color:"",type:0,position:20,description:"",title:""},{img:"",color:"",type:0,position:21,description:"",title:""},{img:"",color:"",type:0,position:22,description:"",title:""}];var G=class o{cases=pe;constructor(){}atributionTypes(){let e=[...Array(10).fill(2),...Array(5).fill(3),...Array(6).fill(4)];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return this.cases.map((t,n)=>{n===0?t.type=1:t.type=e[n-1],this.setAtributes(t)}),this.cases}setAtributes(e){switch(e.type){case 1:e.color="#546E7A",e.img="imgs/start.png",e.title="Start",e.description="sdsa";break;case 2:e.color="#5BA821",e.img="imgs/lucky.png",e.title="SORTE",e.description="Voc\xEA caiu na casa de sorte e ganhou: ";break;case 3:e.color="#F44336 ",e.img="imgs/bad.png",e.title="AZAR",e.description="Voc\xEA caiu na casa de azar e perdeu:";break;case 4:e.color="#E7A720",e.img="imgs/coringa.png",e.title="ALEAT\xD3RIA",e.description="...";break;default:break}}static \u0275fac=function(t){return new(t||o)};static \u0275prov=H({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ue=["dice"],Ve=(o,e)=>e.position,Te=(o,e)=>e.id,Re=()=>({color:"green","font-weight":"bold"}),Ae=()=>({color:"black","font-weight":"normal"});function Be(o,e){if(o&1&&l(0,"app-card-game",7),o&2){let t=e.$implicit,n=m();F("item"+t.position),x("cardImg",t.img)("color",t.color)("cardNumber",t.position)("players",n.players)}}function je(o,e){o&1&&(i(0,"h1"),s(1,"Loading..."),r())}function ze(o,e){if(o&1&&(i(0,"span",9),s(1),r()),o&2){let t=m().$implicit,n=m();a(),y("pontos x",n.players[t.id-1].laps,"")}}function Ne(o,e){if(o&1){let t=_();i(0,"li")(1,"span"),s(2),r(),i(3,"app-dice",8),d("diceRolled",function(c){u(t);let p=m();return f(p.onRoll(c))}),r(),i(4,"span"),s(5),r(),b(6,ze,2,1,"span",9),r()}if(o&2){let t=e.$implicit,n=m();a(),Z(n.turns[t.id-1]?L(6,Re):L(7,Ae)),a(),y("Player ",t.id,""),a(),x("canRoll",n.turns[t.id-1]),a(2),y("Pontua\xE7\xE3o: ",n.players[t.id-1].points,""),a(),h(n.players[t.id-1].laps>1?6:-1)}}var $=class o{constructor(e,t,n){this.caseService=e;this.router=t;this.numPlrs=n}title="board-game";casas=[];turns=[!0,!1,!1,!1];turnoAtual=0;qtdPlayers=2;PlayersColors=["red","purple","yellow","orange"];players=[];playerSelectedOnRandowCard=0;popupIsClosed=!1;titlePopup="";descriptionPopup="";colorPopup="";optionsIsClosed=!1;optionsValid=[];diceComponent;ngOnInit(){this.casas=this.caseService.atributionTypes(),this.numPlrs.queryParams.subscribe(e=>{this.qtdPlayers=e.qtdPlayers}),this.players=Array.from({length:this.qtdPlayers},(e,t)=>({id:t+1,color:this.PlayersColors[t],position:0,points:0,laps:1})),this.players.forEach(e=>{e.position=1})}onPopupClose(){this.popupIsClosed=!1}onRoll(e){return U(this,null,function*(){this.turns.fill(!1),console.log(this.turns),this.players[this.turnoAtual].position+=e,this.players[this.turnoAtual].position>22&&(this.players[this.turnoAtual].position=1+(this.players[this.turnoAtual].position-23),this.players[this.turnoAtual].laps++),yield this.popup(this.casas[this.players[this.turnoAtual].position-1],this.players[this.turnoAtual]),this.advanceTurn()})}popup(e,t){let n=Math.floor(Math.random()*6)+1;switch(e.type){case 2:this.titlePopup=e.title,this.descriptionPopup=e.description+` ${n} ponto(s) x ${t.laps}!`,this.colorPopup=e.color,this.popupIsClosed=!0,this.attPoints(t,n,"sorte");break;case 3:this.titlePopup=e.title,this.descriptionPopup=e.description+` ${Math.ceil(n/2)} ponto(s)!`,this.colorPopup=e.color,this.popupIsClosed=!0,this.attPoints(t,n,"azar");break;case 4:let c=Math.floor(Math.random()*4)+1;switch(this.titlePopup=e.title,this.colorPopup=e.color,this.popupIsClosed=!0,c){case 1:this.descriptionPopup=this.moreThanTwoPlayers()?`Escolha alguem para voltar ${Math.ceil(n/2)} casas!`:`O outro jogador voltou ${Math.ceil(n/2)} casas!`,this.attPoints(t,n,"coringa",1);break;case 2:this.descriptionPopup=this.moreThanTwoPlayers()?"Escolha um jogador e roube metade dos seus pontos!":"Voc\xEA roubou metade dos pontos do outro jogador!",this.attPoints(t,n,"coringa",2);break;case 3:this.descriptionPopup=this.moreThanTwoPlayers()?"Troque de lugar com algu\xE9m obrigatoriamente!":"Voc\xEA trocou obrigadoriamente de lugar com o outro jogador!",this.attPoints(t,n,"coringa",3);break;case 4:this.descriptionPopup=`Voc\xEA voltou: ${Math.ceil(n/2)} casa(s)!`,this.attPoints(t,n,"coringa",4);break}break;default:this.popupIsClosed=!1;break}}advanceTurn(){this.turnoAtual===this.players.length-1?this.turnoAtual=0:this.turnoAtual++,this.turns[this.turnoAtual]=!0}attPoints(e,t,n,c){return U(this,null,function*(){if(n==="sorte")e.points+=t*e.laps;else if(n==="azar")e.points-=Math.ceil(t/2),e.points<0&&(e.points=0);else if(n==="coringa")switch(this.players.length>2?(this.optionsValid.length=0,this.optionsValid=this.players.map(p=>p.id!==e.id?p.id:0).filter(p=>p!==0),this.optionsIsClosed=!0):setInterval(()=>{this.playerSelectedOnRandowCard=this.players.find(p=>p.id!==e.id)?.id},1e3),c){case 1:yield this.waitForVariableChange(()=>this.playerSelectedOnRandowCard),this.players[this.playerSelectedOnRandowCard-1].position-=Math.floor(t/2),this.players[this.playerSelectedOnRandowCard-1].position<=0&&(this.players[this.playerSelectedOnRandowCard-1].position=1),this.playerSelectedOnRandowCard=0,this.optionsIsClosed=!1;break;case 2:yield this.waitForVariableChange(()=>this.playerSelectedOnRandowCard);let p=Math.floor(this.players[this.playerSelectedOnRandowCard-1].points/2);e.points+=p,this.players[this.playerSelectedOnRandowCard-1].points-=p,this.playerSelectedOnRandowCard=0,this.optionsIsClosed=!1;break;case 3:yield this.waitForVariableChange(()=>this.playerSelectedOnRandowCard);let I=this.players[this.playerSelectedOnRandowCard-1].position;this.players[this.playerSelectedOnRandowCard-1].position=e.position,e.position=I,this.playerSelectedOnRandowCard=0,this.optionsIsClosed=!1;break;case 4:this.optionsIsClosed=!1,this.playerSelectedOnRandowCard=0,e.position-=Math.ceil(t/2),e.position<=0&&(e.position=1);break}if(e.points>=100){let p=this.players.sort((he,_e)=>_e.points-he.points),[I,ge,Ce]=p;this.router.navigate(["winner"],{queryParams:{winner:I.id,second:ge.id,third:Ce.id}})}})}moreThanTwoPlayers(){return this.players.length>2}onOptionSelected(e){this.playerSelectedOnRandowCard=e}waitForVariableChange(e,t=100){return U(this,null,function*(){let n=e();return new Promise(c=>{let p=setInterval(()=>{e()!==n&&(clearInterval(p),c())},t)})})}unloadNotification(e){e.returnValue="Tem certeza que deseja sair? Toda a corrida ser\xE1 reiniciada, junto aos pontos e posi\xE7\xF5es das casas!"}static \u0275fac=function(t){return new(t||o)(P(G),P(R),P(T))};static \u0275cmp=g({type:o,selectors:[["app-game"]],viewQuery:function(t,n){if(t&1&&K(Ue,5),t&2){let c;X(c=ee())&&(n.diceComponent=c.first)}},hostBindings:function(t,n){t&1&&d("beforeunload",function(p){return n.unloadNotification(p)},!1,J)},standalone:!0,features:[C],decls:12,vars:8,consts:[[1,"container"],["src","sounds/race.mp3","autoplay","","loop","",3,"volume"],[1,"cards"],[3,"class","cardImg","color","cardNumber","players"],[1,"border"],[1,"rolls"],[3,"closeEvent","optionSelected","close","color","card","description","options","optionsValid"],[3,"cardImg","color","cardNumber","players"],[3,"diceRolled","canRoll"],[1,"multiplicador"]],template:function(t,n){t&1&&(i(0,"div",0),l(1,"audio",1),i(2,"div",2),O(3,Be,1,6,"app-card-game",3,Ve,!1,je,2,0,"h1"),l(6,"div",4),r(),i(7,"div",5)(8,"ul"),O(9,Ne,7,8,"li",null,Te),r()()(),i(11,"app-information",6),d("closeEvent",function(){return n.onPopupClose()})("optionSelected",function(p){return n.onOptionSelected(p)}),r()),t&2&&(a(),x("volume",.2),a(2),k(n.casas),a(6),k(n.players),a(2),x("close",n.popupIsClosed)("color",n.colorPopup)("card",n.titlePopup)("description",n.descriptionPopup)("options",n.optionsIsClosed)("optionsValid",n.optionsValid))},dependencies:[j,z,N],styles:['.container[_ngcontent-%COMP%]{padding:10px;width:100vw;height:100vh;background:url("./media/background-BLMCJPQE.png") center no-repeat;background-size:cover}.container[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);place-items:left;border-radius:80px;overflow:hidden;border:10px solid #3F3F3F;grid-template-areas:"a1 a2 a3 a4 a5 a6 a7 a8 a9 b1" "c4 c5 c5 c5 c5 c5 c5 c5 c5 b2" "c3 c2 c1 b9 b8 b7 b6 b5 b4 b3"}.container[_ngcontent-%COMP%]   .rolls[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:40px;list-style:none}.container[_ngcontent-%COMP%]   .rolls[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center;font-size:1.5rem;font-weight:600;width:250px;padding:10px;border-radius:20px;gap:10px;background-color:#fff;border:10px solid rgb(71,71,71)}.container[_ngcontent-%COMP%]   .rolls[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .multiplicador[_ngcontent-%COMP%]{color:orange;font-weight:700}.item1[_ngcontent-%COMP%]{grid-area:a1}.item2[_ngcontent-%COMP%]{grid-area:a2}.item3[_ngcontent-%COMP%]{grid-area:a3}.item4[_ngcontent-%COMP%]{grid-area:a4}.item5[_ngcontent-%COMP%]{grid-area:a5}.item6[_ngcontent-%COMP%]{grid-area:a6}.item7[_ngcontent-%COMP%]{grid-area:a7}.item8[_ngcontent-%COMP%]{grid-area:a8}.item9[_ngcontent-%COMP%]{grid-area:a9}.item10[_ngcontent-%COMP%]{grid-area:b1}.item11[_ngcontent-%COMP%]{grid-area:b2}.item12[_ngcontent-%COMP%]{grid-area:b3}.item13[_ngcontent-%COMP%]{grid-area:b4}.item14[_ngcontent-%COMP%]{grid-area:b5}.item15[_ngcontent-%COMP%]{grid-area:b6}.item16[_ngcontent-%COMP%]{grid-area:b7}.item17[_ngcontent-%COMP%]{grid-area:b8}.item18[_ngcontent-%COMP%]{grid-area:b9}.item19[_ngcontent-%COMP%]{grid-area:c1}.item20[_ngcontent-%COMP%]{grid-area:c2}.item21[_ngcontent-%COMP%]{grid-area:c3}.item22[_ngcontent-%COMP%]{grid-area:c4}.border[_ngcontent-%COMP%]{grid-area:c5;width:100%;height:100%;border:10px solid rgb(71,71,71);border-radius:30px;transform:scaleY(1.12) scaleX(1.016);z-index:99}']})};var W=o=>({active:o}),q=class o{constructor(e){this.route=e}modalActive=null;iniciarJogo(e){this.soundClick();let t=Number(e);t>=2&&t<=4&&this.route.navigate(["board-game"],{queryParams:{qtdPlayers:t}})}openModal(e){this.soundClick(),this.modalActive=e}closeModal(){this.soundClick(),this.modalActive=null}soundClick(){new Audio("sounds/click.mp3").play()}static \u0275fac=function(t){return new(t||o)(P(R))};static \u0275cmp=g({type:o,selectors:[["app-menu"]],standalone:!0,features:[C],decls:68,vars:13,consts:[["numPlayersInput",""],[1,"container"],["src","sounds/menu.mp3","autoplay","","loop","",3,"volume"],[1,"menu"],[1,"buttons"],[1,"btn",3,"click"],["id","players",1,"modal"],[1,"modal-content"],["id","playerForm"],["for","numPlayers"],["type","number","id","numPlayers","name","numPlayers","min","2","max","4","required",""],["name","Come\xE7ar a Corrida!",1,"close",3,"click"],["name","Fechar",1,"close",3,"click"],["id","credits",1,"modal"],["id","rules",1,"modal"],[1,"card"],["src","imgs/rules/chegada.png","alt","Linha de chegada"],["src","imgs/rules/sorte.png","alt","Carta da sorte"],["src","imgs/rules/ruim.png","alt","Carta do azar"],["src","imgs/rules/misterio.png","alt","Carta mist\xE9rio"]],template:function(t,n){if(t&1){let c=_();i(0,"div",1),l(1,"audio",2),i(2,"div",3)(3,"h1"),s(4,"Travessia da Sorte"),r(),i(5,"div",4)(6,"a",5),d("click",function(){return u(c),f(n.openModal("players"))}),s(7,"Iniciar"),r(),i(8,"a",5),d("click",function(){return u(c),f(n.openModal("credits"))}),s(9,"Cr\xE9ditos"),r(),i(10,"a",5),d("click",function(){return u(c),f(n.openModal("rules"))}),s(11,"Regras"),r()()(),i(12,"div",6)(13,"div",7)(14,"h2"),s(15,"Quantidade de Jogadores"),r(),i(16,"form",8)(17,"label",9),s(18,"Selecione o n\xFAmero de jogadores (2 a 4): "),r(),l(19,"input",10,0),i(21,"app-button",11),d("click",function(){u(c);let I=te(20);return f(n.iniciarJogo(I.value))}),r()(),i(22,"app-button",12),d("click",function(){return u(c),f(n.closeModal())}),r()()(),i(23,"div",13)(24,"div",7)(25,"h2"),s(26,"Cr\xE9ditos"),r(),i(27,"h3"),s(28,"Autores:"),r(),i(29,"ul")(30,"li"),s(31,"Felipe Santos"),r(),i(32,"li"),s(33,"Adilson"),r(),i(34,"li"),s(35,"Addan Reis"),r(),i(36,"li"),s(37,"Vinicius de Almeida"),r()(),i(38,"app-button",12),d("click",function(){return u(c),f(n.closeModal())}),r()()(),i(39,"div",14)(40,"div",7)(41,"h2"),s(42,"Regras do Jogo"),r(),i(43,"div",15),l(44,"img",16),i(45,"h3"),s(46,"Linha de chegada"),r(),i(47,"p"),s(48,"Sinaliza o inicio e o final do jogo. Quem conseguir 100 pontos primeiro ser\xE1 o vencedor! Cada vez que um jogador cruzar esta carta ele ganha um multiplicador de pontos."),r()(),i(49,"div",15),l(50,"img",17),i(51,"h3"),s(52,"Carta da sorte"),r(),i(53,"p"),s(54,"Esta carta pode te dar de 1 a 6 pontos."),r()(),i(55,"div",15),l(56,"img",18),i(57,"h3"),s(58,"Carta do azar"),r(),i(59,"p"),s(60,"Esta carta pode te tirar de 1 a 3 pontos."),r()(),i(61,"div",15),l(62,"img",19),i(63,"h3"),s(64,"Carta mist\xE9rio"),r(),i(65,"p"),s(66,"Esta carta te dar\xE1 uma habilidade misteriosa para utilizar durante a partida."),r()(),i(67,"app-button",12),d("click",function(){return u(c),f(n.closeModal())}),r()()()()}t&2&&(a(),x("volume",.2),a(11),F(V(7,W,n.modalActive==="players")),a(11),F(V(9,W,n.modalActive==="credits")),a(16),F(V(11,W,n.modalActive==="rules")))},dependencies:[w],styles:['@font-face{font-family:Mystery Quest;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mysteryquest/v20/-nF6OG414u0E6k0wynSGlujRLwgvDs9Q.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Mystery Quest;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mysteryquest/v20/-nF6OG414u0E6k0wynSGlujRLwYvDg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.container[_ngcontent-%COMP%]{background-color:#ecf0f1;color:#34495e;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;background:url("./media/diceBackground-MSZKZYLH.gif") center repeat;background-size:fixed}.menu[_ngcontent-%COMP%]{text-align:center;background:#52525259;box-shadow:0 8px 32px #0000005e;backdrop-filter:blur(13.5px);-webkit-backdrop-filter:blur(13.5px);border:1px solid rgba(82,82,82,.18);padding:80px;border-radius:10px}h1[_ngcontent-%COMP%]{margin-bottom:20px;font-size:3em;font-family:Mystery Quest,system-ui;font-weight:400;font-style:normal;color:#ecf0f1}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;width:80%;margin:auto}.btn[_ngcontent-%COMP%]{display:inline-block;padding:15px 30px;background-color:#f0f0f0;color:#242424;text-decoration:none;font-size:1.5em;font-weight:700;border-radius:5px;cursor:pointer;text-shadow:0 .0625em 0 #fff;box-shadow:inset 0 .0625em #f4f4f4,0 .0625em #efefef,0 .125em #ececec,0 .25em #e0e0e0,0 .3125em #dedede,0 .375em #dcdcdc,0 .425em #cacaca,0 .425em .5em #cecece;transition:.15s ease}.btn[_ngcontent-%COMP%]:active{translate:0 .225em;box-shadow:inset 0 .03em #f4f4f4,0 .03em #efefef,0 .0625em #ececec,0 .125em #e0e0e0,0 .125em #dedede,0 .2em #dcdcdc,0 .225em #cacaca,0 .225em .375em #cecece}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000c}.modal-content[_ngcontent-%COMP%]{background-color:#34495e;margin:15% auto;padding:20px;border-radius:10px;width:80%;max-width:400px;text-align:center;color:#ecf0f1}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:10px;width:50px;padding:4px}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:10px 0}.close[_ngcontent-%COMP%]{display:inline-block;margin:15px 0}.modal.active[_ngcontent-%COMP%]{display:block}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;height:auto;border-radius:5px;margin-bottom:10px}']})};var Q=class o{constructor(e){this.route=e}segundo=null;primeiro=null;terceiro=null;ngOnInit(){this.route.queryParams.subscribe(e=>{this.primeiro=e.winner,this.segundo=e.second,this.terceiro=e.third})}static \u0275fac=function(t){return new(t||o)(P(T))};static \u0275cmp=g({type:o,selectors:[["app-winner"]],standalone:!0,features:[C],decls:12,vars:3,consts:[[1,"container"],["src","sounds/win.mp3","autoplay",""],[1,"content"],[1,"image"],["src","imgs/podium.png","alt",""],[1,"p2"],[1,"p1"],[1,"p3"],["name","Voltar para o menu","routerLink","/menu"]],template:function(t,n){t&1&&(i(0,"div",0),l(1,"audio",1),i(2,"div",2)(3,"div",3),l(4,"img",4),r(),i(5,"span",5),s(6),r(),i(7,"span",6),s(8),r(),i(9,"span",7),s(10),r()(),l(11,"app-button",8),r()),t&2&&(a(6),y("Player ",n.segundo,""),a(2),y("Player ",n.primeiro,""),a(2),y("Player ",n.terceiro,""))},dependencies:[ce,w],styles:['@font-face{font-family:Mystery Quest;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mysteryquest/v20/-nF6OG414u0E6k0wynSGlujRLwgvDs9Q.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Mystery Quest;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/mysteryquest/v20/-nF6OG414u0E6k0wynSGlujRLwYvDg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-flow:column;justify-content:center;align-items:center;gap:10px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:600px;height:450px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;z-index:2;font-weight:600;font-size:1.3rem;font-family:Mystery Quest,system-ui;color:#742d2c}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .p2[_ngcontent-%COMP%]{left:40.7%;bottom:31.5%}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .p1[_ngcontent-%COMP%]{left:47.8%;bottom:36.5%;font-size:1.6rem}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .p3[_ngcontent-%COMP%]{left:55.8%;bottom:29.8%;font-size:1.2rem}']})};var me=[{path:"menu",component:q,pathMatch:"full"},{path:"board-game",component:$,pathMatch:"full"},{path:"winner",component:Q,pathMatch:"full"},{path:"**",redirectTo:"menu"}];var ue={providers:[ne({eventCoalescing:!0}),le(me),re()]};var Ge={providers:[ae()]},fe=ie(ue,Ge);var $e=()=>oe(A,fe),Bt=$e;export{Bt as a};
